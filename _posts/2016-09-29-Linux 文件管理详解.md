---
layout: post
title: Linux 文件管理详解
categories: Linux
---

## 一、文件目录权限

### 1. 对文件（目录）权限本身划分

| r | 读 | 4 |
| w | 写 | 2 |
| x | 执行 | 1 |

假如对一个文件的权限是7，则表示对该文件的权限是全部（读取、写，执行）。

假如对一个文件的权限是5，则表示对该文件的权限是读和执行。

### 2. 权限从用户的角度划分

所有者：文件的拥有者，创建该文件的用户。

所属组：默认是该文件的拥有者所属初始组里面的其他用户。

其他人：

二、权限的说明

![01.png](/static/images/2016/09/29/01.png)

### 1. 最前面的第一列

| - | 表示是一个文件 |
| d | 表示是一个文件夹 |
| l | 表示是一个链接文件，该链接文件就类似于window里面的快捷方式。 |

### 2. 设置的权限：rw-r--r--

| rw- | 是文件的所有者的权限。当前权限是读和写，没有执行的权限。 |
| r-- | 是授予所属组用户的权限。当前权限是读，没有写和执行的权限。 |
| r-- | 是授予其他人的权限。当前权限是读，没有写和执行的权限。 |

可以把rw-r--r--变成数字表示：644

![02.png](/static/images/2016/09/29/02.png)

注意：如果想要对目录中的某个文件具有删除的权限，则如何设置。对一个文件有写权限，不能删除该文件，要想删除该文件，则必须对文件所在目录具有写的权限。

## 三、更改文件权限

### 1. 更改文件权限

```
语法1：chmod [选项] <权限数字> <文件或目录>
```

注意：比较适合于设置权限

比如对一个文件的所有者具体有读写的权限，对所属组具有执行的权限，对其他人具有读取的权限。

![03.png](/static/images/2016/09/29/03.png)

![04.png](/static/images/2016/09/29/04.png)

```
语法2：chmod [{ugo}{+-=}{rwx}] [文件或目录]
```

注：比较适合于修改权限

-R：递归改变 是把目录下面的所有的内容跟着改变。

例：对two.doc文件所属组去掉执行的权限。

![05.png](/static/images/2016/09/29/05.png)

组合使用用法

```
chmod u-r,o+w,g+w two.doc
chmod u=rwx two.doc
```

### 2. 更改文件拥有者

```
语法：chown [用户] [文件或目录]
```

-R：递归改变

![06.png](/static/images/2016/09/29/06.png)

### 3. 更改文件所属组

```
语法：chgrp [用户组] [文件或目录]
```

-R：递归改变

![07.png](/static/images/2016/09/29/07.png)

## 四、目录管理

### 1. 创建目录

```
mkdir [选项] 目录名
-p 递归创建目录
-m 创建目录时指定权限
```

案例1：比如在根目录下面建立一个demo目录。

![08.png](/static/images/2016/09/29/08.png)

案例2：比如在根目录下面的demo目录里面新建一个one目录，one/two/three/four

![09.png](/static/images/2016/09/29/09.png)

案例3：在/home建立一个目录，目录名称为test，权限设置为777。

![10.png](/static/images/2016/09/29/10.png)

### 2. 删除目录

```
rmdir [选项] 目录名
-p 递归删除
```

注意：该命令只能删除空的目录。

![11.png](/static/images/2016/09/29/11.png)

## 五、文件创建与删除

### 1. 创建文件

```
语法：touch 文件名
```

![12.png](/static/images/2016/09/29/12.png)

### 2. 删除文件

```
rm [选项] 文件名
-r 递归删除（用于删除文件夹）
-f 关闭确认
```

![13.png](/static/images/2016/09/29/13.png)

使用-rf的组合，可以删除非空的目录。

![14.png](/static/images/2016/09/29/14.png)

## 六、复制文件或目录

```
cp [选项] <源文件或目录> <目标文件或目录>
-R 递归复制，复制目录时常用
-p 复制过程中保持文件原有属性
-v 显示复制过程
```

案例1：把/home目录下面的two.doc文件给复制到/demo目录里面。

![15.png](/static/images/2016/09/29/15.png)

案例2：把/boot目录里面的所有的内容，复制的到/demo目录里面。

![16.png](/static/images/2016/09/29/16.png)

## 七、移动文件或目录

```
mv [选项] <源文件或目录> <目标文件或目录>
-v 显示过程
```

案例1：把/home下面的one.doc文件给移动到/test目录里面。

![17.png](/static/images/2016/09/29/17.png)

案例2：可以使用该命令进行对文件改名操作。

![18.png](/static/images/2016/09/29/18.png)

## 八、搜索匹配行

```
grep [选项] <字符串> <源文件>
-n 显示行号
-c 共匹配多少行
-i 忽略大小写
-v 排除指定字符串
```

比如显示出一个文件中除了注释的内容。

![19.png](/static/images/2016/09/29/19.png)

## 九、显示文件内容

cat 查看文件的内容

```
语法：cat 文件名称
```

注意：比较适合于查看内容比较少的文件。

head 可以显示出文件的前n行

```
语法：head –n 文件名称
```

tail 可以显示出文件的后n行

```
语法：tail –n 文件名称
```

more 比较适合显示内容比较多的文档。按空格则翻屏显示，按回车是逐行显示。

less

![20.png](/static/images/2016/09/29/20.png)