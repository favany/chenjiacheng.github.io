---
layout: post
categories: Linux
---

查看文件内容的命令

| 命令 | 描述 |
| -- | -- |
| cat | 由第一行开始显示内容，并将所有内容输出 |
| tac | 从最后一行倒序显示内容，并将所有内容输出 |
| more | 根据窗口大小，一页一页的现实文件内容 |
| less | 和 more 类似，但其优点可以往前翻页，而且进行可以搜索字符 |
| head | 只显示头几行 |
| tail | 只显示最后几行 |
| nl | 类似于 cat -n，显示时输出行号 |
| tailf | 类似于 tail -f |

## cat 和 tac

`cat` 的功能是将文件从第一行开始连续的将内容输出在屏幕上。但是 `cat` 并不常用，原因是当文件大，行数比较多时，屏幕无法全部容下时，只能看到一部分内容。

```
cat [-n] 文件名 (-n：显示时，连行号一起输出)
```

`tac` 的功能是将文件从最后一行开始倒过来将内容数据输出到屏幕上。我们可以发现，`tac` 实际上是 `cat` 反过来写。这个命令也不常用。

```
tac 文件名
```

## more 和 less (常用)

`more` 的功能是将文件从第一行开始，根据输出窗口的大小，适当的输出文件内容。

当一页无法全部输出时，可以用 “回车键” 向下翻行，用 “空格键” 向下翻页。退出查看页面，请按 “q” 键。

另外，`more` 还可以配合管道符 “\|”（pipe）使用，例如：`ls -al | more`

```
more 文件名
```

| 操作 | 说明 |
| -- | -- |
| Enter | 向下 n 行，需要定义，默认为 1 行； |
| Ctrl f | 向下滚动一屏； |
| 空格键 | 向下滚动一屏； |
| Ctrl b | 返回上一屏； |
| = | 输出当前行的行号； |
| :f | 输出文件名和当前行的行号； |
| v | 调用 vi 编辑器； |
| ! | 调用 Shell，并执行命令； |
| q | 退出 more |

`less` 的功能和 `more` 相似，但是使用 `more` 无法向前翻页，只能向后翻。

`less` 可以使用【pageup】和【pagedown】键进行前翻页和后翻页，这样看起来更方便。

```
less 文件名
```

`less` 还有一个功能，可以在文件中进行搜索你想找的内容，假设你想在 passwd 文件中查找有没有 weblogic 字符串，那么你可以这样来做：

```
[root@redhat etc]# less passwd
```

然后输入：

```
/weblogic
```

回车

此时如果有 weblogic 字符串，Linux 会把该字符已高亮方式显示。

退出查看页面，请按 “q” 键。

## head 和 tail

`head` 和 `tail` 通常使用在只需要读取文件的前几行或者后几行的情况下使用。`head` 的功能是显示文件的前几行内容

```
head [n number] 文件名 (number 显示行数)
```

`tail` 的功能恰好和 `head` 相反，只显示最后几行内容

```
tail [-n number] 文件名
```

## nl

`nl` 的功能和 `cat -n` 一样，同样是从第一行输出全部内容，并且把行号显示出来

```
nl 文件名
```

## tailf

`tailf` 命令几乎等同于 `tail -f`，严格说来应该与 `tail --follow=name` 更相似些。当文件改名之后它也能继续跟踪，特别适合于日志文件的跟踪。

与 `tail -f` 不同的是，如果文件不增长，它不会去访问磁盘文件。`tailf` 特别适合那些便携机上跟踪日志文件，因为它能省电，因为减少了磁盘访问嘛。

`tailf` 命令不是个脚本，而是一个用 C 代码编译后的二进制执行文件，某些 Linux 安装之后没有这个命令，本文提供了怎么编译安装 `tailf` 命令的方法。

**二者的区别：**

1. `tailf` 总是从文件开头一点一点的读，而 `tail -f` 则是从文件尾部开始读

2. `tailf check` 文件增长时，使用的是文件名，用 stat 系统调用；而 `tail -f` 则使用的是已打开的文件描述符；注：`tail` 也可以做到类似跟踪文件名的效果； 但是 `tail` 总是使用 fstat 系统调用，而不是 stat 系统调用；结果就是：默认情况下，当 `tail` 的文件被偷偷删除时，`tail` 是不知道的，而 `tailf` 是知道的。

**常用参数：**

格式：`tailf logfile`

动态跟踪日志文件 logfile，最初的时候打印文件的最后 10 行内容。