---
layout: post
title: PHP 下载远程图片的方法
categories: PHP
taps: PHP
---

## 使用 file_get_contents

```
function dlfile($file_url, $save_to) {
    $content = file_get_contents($file_url);
    file_put_contents($save_to, $content);
}
```

## 使用 CURL

```
function dlfile($file_url, $save_to) {
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_POST, 0);
    curl_setopt($ch,CURLOPT_URL,$file_url);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    $file_content = curl_exec($ch);
    curl_close($ch);
    $downloaded_file = fopen($save_to, 'w');
    fwrite($downloaded_file, $file_content);
    fclose($downloaded_file);
}
```

## 使用 fopen

```
function dlfile($file_url, $save_to) {
    $in = fopen($file_url, "rb");
    $out = fopen($save_to, "wb");
    while ($chunk = fread($in,8192)) {
        fwrite($out, $chunk, 8192);
    }
    fclose($in);
    fclose($out);
}
```